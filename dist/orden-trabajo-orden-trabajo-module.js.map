{"version":3,"sources":["webpack:///./src/app/layout/orden-trabajo/app-routing.module.ts","webpack:///./src/app/layout/orden-trabajo/consultar-orden/consultar-orden.component.html","webpack:///./src/app/layout/orden-trabajo/consultar-orden/consultar-orden.component.scss","webpack:///./src/app/layout/orden-trabajo/consultar-orden/consultar-orden.component.ts","webpack:///./src/app/layout/orden-trabajo/crear-orden/crear-orden.component.html","webpack:///./src/app/layout/orden-trabajo/crear-orden/crear-orden.component.scss","webpack:///./src/app/layout/orden-trabajo/crear-orden/crear-orden.component.ts","webpack:///./src/app/layout/orden-trabajo/informacion-orden/informacion-orden.component.html","webpack:///./src/app/layout/orden-trabajo/informacion-orden/informacion-orden.component.scss","webpack:///./src/app/layout/orden-trabajo/informacion-orden/informacion-orden.component.ts","webpack:///./src/app/layout/orden-trabajo/orden-trabajo.module.ts","webpack:///./src/app/servicios/orden/orden.service.ts"],"names":[],"mappings":"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","file":"orden-trabajo-orden-trabajo-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { CrearOrdenComponent } from './crear-orden/crear-orden.component';\r\nimport { ConsultarOrdenComponent } from './consultar-orden/consultar-orden.component';\r\nimport { InformacionOrdenComponent } from './informacion-orden/informacion-orden.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'crearorden',\r\n    component: CrearOrdenComponent\r\n  },\r\n  {\r\n    path: 'consultarorden',\r\n    component: ConsultarOrdenComponent\r\n  },\r\n  {\r\n    path: 'informacionorden/:id',\r\n    component: InformacionOrdenComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","module.exports = \"<div [@routerTransition]>\\r\\n  <app-page-header [heading]=\\\"'Consultar ordenes de trabajo'\\\" [icon]=\\\"'fa-edit'\\\"></app-page-header>\\r\\n\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col col-xl-12 col-lg-12\\\">\\r\\n\\r\\n\\r\\n      <div class=\\\"card mb-3\\\">\\r\\n        <div class=\\\"card-header\\\">Ordenes de trabajo</div>\\r\\n        <div class=\\\"card-body table-responsive\\\">\\r\\n          <table class=\\\"table table-bordered\\\">\\r\\n            <thead>\\r\\n              <tr>\\r\\n                <th>Fecha</th>\\r\\n                <th>Hora</th>\\r\\n                <th>ID Cliente</th>\\r\\n                <th>Nombre del cliente</th>\\r\\n                <th>Vehículo</th>\\r\\n                <th></th>\\r\\n              </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n              <tr *ngFor=\\\"let orden of ordenes | async\\\">\\r\\n                <td>{{(orden.data.fecha.seconds)*1000 | date : 'dd/MM/yyyy'}}</td>\\r\\n                <td>{{(orden.data.fecha.seconds)*1000 | date : 'hh:mm a'}}</td>\\r\\n                <td>{{orden.data.cliente.cedula}}</td>\\r\\n                <td>{{orden.data.cliente.nombre}}</td>\\r\\n                <td>\\r\\n                  {{orden.data.vehiculo.placa}} - {{orden.data.vehiculo.marca}} - {{orden.data.vehiculo.modelo}}\\r\\n\\r\\n                </td>\\r\\n                <td>\\r\\n                  <a href=\\\"/orden/informacionorden/{{orden.id}}\\\" class=\\\"btn btn-sm btn-primar\\\">\\r\\n                    <i class=\\\"fa fa-eye\\\"></i>\\r\\n                  </a>\\r\\n                 \\r\\n                  \\r\\n                  <button class=\\\"btn btn-sm btn-danger\\\">\\r\\n                    <i class=\\\"fa fa-trash\\\"></i>\\r\\n                  </button>\\r\\n                </td>\\r\\n\\r\\n\\r\\n              </tr>\\r\\n\\r\\n\\r\\n\\r\\n            </tbody>\\r\\n          </table>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n</div>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { routerTransition } from '../../../router.animations';\r\nimport { Observable } from 'rxjs';\r\nimport { OrdenService } from '../../../servicios/orden/orden.service';\r\n\r\n@Component({\r\n  selector: 'app-consultar-orden',\r\n  templateUrl: './consultar-orden.component.html',\r\n  styleUrls: ['./consultar-orden.component.scss'],\r\n  animations: [routerTransition()]\r\n})\r\nexport class ConsultarOrdenComponent implements OnInit {\r\n\r\n  ordenes: Observable<any[]>;\r\n\r\n\r\n  constructor(private ordenService: OrdenService) { }\r\n\r\n  ngOnInit() {\r\n    this.obtenerOrdenes()\r\n  }\r\n\r\n  obtenerOrdenes() {\r\n    this.ordenes =this.ordenService.obtenerOrdenes();\r\n\r\n    this.ordenes.forEach(element => {\r\n      console.log(element)\r\n    });\r\n  \r\n  }\r\n\r\n}\r\n","module.exports = \"<div [@routerTransition]>\\r\\n  <app-page-header [heading]=\\\"'Crear orden de trabajo'\\\" [icon]=\\\"'fa-edit'\\\"></app-page-header>\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-md-12\\\">\\r\\n      <div class=\\\"card\\\">\\r\\n        <div class=\\\"card-header\\\">\\r\\n          Información de la orden de trabajo\\r\\n        </div>\\r\\n        <div class=\\\"card-body\\\" style=\\\"font-size: 14px\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col\\\">\\r\\n              <label for=\\\"\\\">Cliente:</label>\\r\\n              <form class=\\\"form\\\" [formGroup]=\\\"ClienteForm\\\" (ngSubmit)=\\\"seleccionarPersona()\\\">\\r\\n                <div class=\\\"\\\">\\r\\n                  <ng-select class=\\\"form-control\\\" style=\\\"font-size: 14px\\\" autofocus style=\\\"width: 250px;\\\" (change)=\\\"seleccionarPersona()\\\" class=\\\"form-control\\\"\\r\\n                    [items]=\\\"personas | async\\\" bindLabel=\\\"data.nombre\\\" formControlName=\\\"persona\\\">\\r\\n                  </ng-select>\\r\\n                </div>\\r\\n              </form>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"\\\">\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n              <label for=\\\"\\\">Cédula</label>\\r\\n              <br> {{ (personaSeleccionada)?.data.cedula | uppercase }}\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n              <label for=\\\"\\\">Dirección</label>\\r\\n              <br> {{ (personaSeleccionada)?.data.direccion | uppercase }}\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n              <label for=\\\"\\\">Teléfono</label>\\r\\n              <br> {{ (personaSeleccionada)?.data.telefono | uppercase }}\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n              <label for=\\\"\\\">Correo</label>\\r\\n              <br> {{ (personaSeleccionada)?.data.correo }}\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n              <label for=\\\"\\\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </label>\\r\\n              <button class=\\\"btn btn-primary \\\" (click)=\\\"open(content)\\\">\\r\\n                <i class=\\\"fa fa-plus\\\"></i> Nuevo\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n          <hr>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col\\\">\\r\\n              <label for=\\\"\\\">Vehículo:</label>\\r\\n              <form class=\\\"form\\\" [formGroup]=\\\"VehiculoForm\\\" (ngSubmit)=\\\"seleccionarPersona()\\\">\\r\\n                <div class=\\\"\\\"  >\\r\\n                  <ng-select class=\\\"form-control\\\" autofocus style=\\\"width: 250px;\\\" (change)=\\\"seleccionarVehiculo()\\\" class=\\\"form-control\\\" [items]=\\\"vehiculos | async\\\"  \\r\\n                  bindLabel=\\\"data.placa\\\" formControlName=\\\"vehiculo\\\" >\\r\\n                  </ng-select>\\r\\n                </div>\\r\\n              </form>\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n              <label for=\\\"\\\">Placa</label>\\r\\n              <br> {{ (vehiculoSeleccionado)?.data.placa | uppercase }}\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n              <label for=\\\"\\\">Marca</label>\\r\\n              <br> {{ (vehiculoSeleccionado)?.data.marca | uppercase }}\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n              <label for=\\\"\\\">Modelo</label>\\r\\n              <br> {{ (vehiculoSeleccionado)?.data.modelo | uppercase }}\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n              <label for=\\\"\\\">Color</label>\\r\\n              <br> {{ (vehiculoSeleccionado)?.data.color | uppercase }}\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n              <label for=\\\"\\\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </label>\\r\\n              <button class=\\\"btn btn-primary \\\" (click)=\\\"open(content2)\\\">\\r\\n                <i class=\\\"fa fa-plus\\\"></i> Nuevo\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <br>\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-md-12\\\">\\r\\n      <div class=\\\"card\\\">\\r\\n        <div class=\\\"card-header\\\">\\r\\n          Servicios\\r\\n        </div>\\r\\n        <div class=\\\"card-body\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            Servicios disponibles:\\r\\n            <form class=\\\"form\\\" [formGroup]=\\\"ServicioForm\\\" (ngSubmit)=\\\"seleccionarServicio()\\\">\\r\\n              <div class=\\\"\\\">\\r\\n                <ng-select class=\\\"form-control\\\" style=\\\"width: 250px;\\\" (change)=\\\"seleccionarServicio()\\\" class=\\\"form-control\\\" [items]=\\\"servicios | async\\\"\\r\\n                  bindLabel=\\\"data.descripcion\\\" formControlName=\\\"servicio\\\">\\r\\n                </ng-select>\\r\\n              </div>\\r\\n            </form>\\r\\n          </div>\\r\\n          <hr>\\r\\n          <p>\\r\\n            <strong>Servicios seleccionados: </strong>{{serviciosSeleccionados.length}}</p>\\r\\n          <table class=\\\"table table-bordered table-sm\\\">\\r\\n            <thead>\\r\\n              <tr>\\r\\n                <th></th>\\r\\n                <th scope=\\\"col\\\">Servicio</th>\\r\\n                <th scope=\\\"col\\\">Descripción</th>\\r\\n                <th scope=\\\"col\\\">Tiempo estandar</th>\\r\\n              </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n              <tr *ngFor=\\\"let servicio of serviciosSeleccionados;let i = index\\\">\\r\\n                <td>\\r\\n                  <button (click)=\\\"eliminarServicio(i)\\\" type=\\\"button\\\" class=\\\"btn btn-danger btn-sm\\\">\\r\\n                    <i class=\\\"fa fa-trash\\\"></i>\\r\\n                  </button>\\r\\n                </td>\\r\\n                <td *ngIf=\\\"servicio.data\\\">{{servicio.data.descripcion}}</td>\\r\\n                <td *ngIf=\\\"servicio.data\\\">{{servicio.data.detalle}}</td>\\r\\n                <td *ngIf=\\\"servicio.data\\\">{{servicio.data.tiempoEstandar}} minutos</td>\\r\\n              </tr>\\r\\n            </tbody>\\r\\n          </table>\\r\\n          <hr>\\r\\n\\r\\n          <button [disabled]=\\\"serviciosSeleccionados.length==0 || ClienteForm.persona=={} || VehiculoForm.vehiculo=={}\\\" class=\\\"btn btn-primary\\\" (click)=\\\"guardarOrden()\\\">Guardar</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<ng-template #content let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"d('Cross click')\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <app-crear-persona></app-crear-persona>\\r\\n  </div>\\r\\n</ng-template>\\r\\n<ng-template #content2 let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"d('Cross click')\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <app-crear-vehiculo></app-crear-vehiculo>\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n  </div>\\r\\n</ng-template>\\r\\n<ng-template #content3 let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"d('Cross click')\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <app-crear-servicio></app-crear-servicio>\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"c('Close click')\\\">Cerrar</button>\\r\\n  </div>\\r\\n</ng-template>\"","module.exports = \"\"","import { Component, OnInit, forwardRef } from '@angular/core';\r\nimport { routerTransition } from '../../../router.animations';\r\nimport { PersonaService } from '../../../servicios/persona.service';\r\nimport { Observable } from 'rxjs';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { Validators } from '@angular/forms';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { VehiculoService } from '../../../servicios/vehiculo/vehiculo.service';\r\nimport { ServicioService } from '../../../servicios/servicio/servicio.service';\r\nimport { OrdenService } from '../../../servicios/orden/orden.service';\r\n\r\n@Component({\r\n  selector: 'app-crear-orden',\r\n  templateUrl: './crear-orden.component.html',\r\n  styleUrls: ['./crear-orden.component.scss'],\r\n  animations: [routerTransition()]\r\n})\r\nexport class CrearOrdenComponent implements OnInit {\r\n\r\n  persona: any;\r\n  personas: Observable<any[]>;\r\n  personaSeleccionada: any\r\n  vehiculoSeleccionado: any\r\n  vehiculoSeleccionadoaux: any\r\n  closeResult: string;\r\n  vehiculos: Observable<any[]>;\r\n  servicios: Observable<any[]>;\r\n  serviciosSeleccionados: any[];\r\n\r\n\r\n  ClienteForm = this.fb.group({\r\n    persona: [{}, Validators.required]\r\n  })\r\n\r\n  ServicioForm = this.fb.group({\r\n    servicio: [{}, Validators.required]\r\n  })\r\n\r\n  VehiculoForm = this.fb.group({\r\n    vehiculo: [{}, Validators.required]\r\n  })\r\n\r\n  constructor(\r\n    private personaService: PersonaService,\r\n    private fb: FormBuilder,\r\n    private modalService: NgbModal,\r\n    private vehiculoService: VehiculoService,\r\n    private servicioService: ServicioService,\r\n    private ordenService: OrdenService\r\n\r\n  ) {\r\n\r\n    this.vehiculos = this.vehiculoService.obtenerVehiculos()\r\n    this.serviciosSeleccionados = []\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.obtenerPersonas()\r\n    this.obtenerServicios()\r\n  }\r\n\r\n  obtenerPersonas() {\r\n    this.personas = this.personaService.obtenerClientes()\r\n  }\r\n\r\n  obtenerServicios() {\r\n    this.servicios = this.servicioService.obtenerServicios()\r\n  }\r\n\r\n  seleccionarPersona() {\r\n    this.personaSeleccionada = this.ClienteForm.value.persona\r\n    this.VehiculoForm = this.fb.group({\r\n      vehiculo: [{}, Validators.required]\r\n    })\r\n    this.vehiculos = this.personaService.obtenerVehiculos(this.personaSeleccionada.id)\r\n  }\r\n\r\n  seleccionarServicio() {\r\n    if (this.ServicioForm.value.servicio.data) {\r\n      this.serviciosSeleccionados.push(this.ServicioForm.value.servicio)\r\n    }\r\n  }\r\n\r\n  guardarOrden() {\r\n    var confirmacion = confirm(\"¿Está seguro que desea guardar la orden\");\r\n    if (confirmacion) {\r\n      var vehiculo = {\r\n        placa: this.vehiculoSeleccionado.data.placa,\r\n        marca: this.vehiculoSeleccionado.data.marca,\r\n        modelo: this.vehiculoSeleccionado.data.modelo,\r\n        color: this.vehiculoSeleccionado.data.color,\r\n        numeroMotor: this.vehiculoSeleccionado.data.numeroMotor,\r\n        numeroChasis: this.vehiculoSeleccionado.data.numeroChasis\r\n      }\r\n\r\n      var cliente = {\r\n        cedula: this.personaSeleccionada.data.cedula,\r\n        nombre: this.personaSeleccionada.data.nombre,\r\n        direccion: this.personaSeleccionada.data.direccion,\r\n        telefono: this.personaSeleccionada.data.direccion,\r\n        correo: this.personaSeleccionada.data.correo\r\n      }\r\n\r\n      var servicios = []\r\n\r\n      this.serviciosSeleccionados.forEach(servicio => {\r\n        servicios.push({ codigo: servicio.data.codigo, descripcion: servicio.data.descripcion, detalle: servicio.data.detalle, tiempoEstandar: servicio.data.tiempoEstandar, estado: 'CITA/RECEPCION' })\r\n      });\r\n      \r\n\r\n      var orden = {\r\n        cliente: cliente,\r\n        vehiculo: vehiculo,\r\n        servicios: servicios,\r\n        fecha: new Date()\r\n      }\r\n      this.ordenService.crearOrden(orden, servicios)\r\n\r\n      this.reiniciar()\r\n\r\n    } \r\n  }\r\n\r\n  reiniciar(){\r\n    this.personaSeleccionada=null\r\n    this.vehiculoSeleccionado = null\r\n    this.serviciosSeleccionados=[]\r\n\r\n    this.ClienteForm = this.fb.group({\r\n      persona: [{}, Validators.required]\r\n    })\r\n  \r\n    \r\n  \r\n    this.VehiculoForm = this.fb.group({\r\n      vehiculo: [{}, Validators.required]\r\n    })\r\n  }\r\n\r\n  eliminarServicio(indice): void {\r\n    this.serviciosSeleccionados.splice(indice, 1)\r\n  }\r\n\r\n  seleccionarVehiculo() {\r\n    this.vehiculoSeleccionado = this.VehiculoForm.value.vehiculo\r\n  }\r\n\r\n  open(content) {\r\n    this.modalService.open(content, { size: 'lg' }).result.then((result) => {\r\n      this.closeResult = `Closed with: ${result}`;\r\n    }, (reason) => {\r\n\r\n    });\r\n  }\r\n\r\n}\r\n","module.exports = \"<div [@routerTransition]>\\r\\n  <app-page-header [heading]=\\\"'Información vehículo'\\\" [icon]=\\\"'fa-edit'\\\"></app-page-header>\\r\\n\\r\\n  <div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n      Información de la orden de trabajo\\r\\n    </div>\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-6\\\">\\r\\n          <table class=\\\"table table-sm table-bordered\\\">\\r\\n\\r\\n            <tbody>\\r\\n              <tr>\\r\\n                <th>Fecha </th>\\r\\n                <td>{{ (orden | async)?.fecha.seconds*1000 | date : 'dd/MM/yyyy hh:mm a' }}</td>\\r\\n              </tr>\\r\\n\\r\\n              <tr>\\r\\n                <th>ID Cliente</th>\\r\\n                <td>{{ (orden | async)?.cliente.cedula }}</td>\\r\\n              </tr>\\r\\n\\r\\n              <tr>\\r\\n                <th>Nombre cliente</th>\\r\\n                <td>{{ (orden | async)?.cliente.nombre }}</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <th>Vehículo</th>\\r\\n                <td>{{ (orden | async)?.vehiculo.placa }} - {{ (orden | async)?.vehiculo.marca }} - {{ (orden | async)?.vehiculo.modelo\\r\\n                  }}\\r\\n                </td>\\r\\n              </tr>\\r\\n\\r\\n\\r\\n            </tbody>\\r\\n          </table>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n\\r\\n  <div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n      Servicios\\r\\n    </div>\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <table class=\\\"table table-bordered\\\">\\r\\n        <thead>\\r\\n          <tr>\\r\\n            <th>Servicio</th>\\r\\n            <th>Descripcioón</th>\\r\\n            <th>Tiempo estandar</th>\\r\\n            <th>Estado</th>\\r\\n            <th>Operador asignado</th>\\r\\n          </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n          <tr *ngFor=\\\"let servicio of servicios let index = index\\\">\\r\\n            <td>{{servicio.descripcion}}</td>\\r\\n            <td>{{servicio.detalle}}</td>\\r\\n            <td>{{servicio.tiempoEstandar}} minutos</td>\\r\\n            <td>{{servicio.estado}}</td>\\r\\n            <td>\\r\\n\\r\\n              <div class=\\\"\\\">\\r\\n                <ng-select class=\\\"form-control\\\" style=\\\"font-size: 14px\\\" [(ngModel)]=\\\"servicio.operador\\\" autofocus style=\\\"width: 250px;\\\"\\r\\n                  class=\\\"form-control\\\" [items]=\\\"personas | async\\\" bindLabel=\\\"data.nombre\\\"  (change)=\\\"seleccionarPersona(servicio, index)\\\">\\r\\n                </ng-select>\\r\\n              </div>\\r\\n\\r\\n            </td>\\r\\n\\r\\n          </tr>\\r\\n\\r\\n\\r\\n\\r\\n        </tbody>\\r\\n      </table>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n</div>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\r\nimport { routerTransition } from '../../../router.animations';\r\nimport { Observable } from 'rxjs';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { OrdenService } from '../../../servicios/orden/orden.service';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { Validators } from '@angular/forms';\r\nimport { PersonaService } from '../../../servicios/persona.service';\r\n\r\n@Component({\r\n  selector: 'app-informacion-orden',\r\n  templateUrl: './informacion-orden.component.html',\r\n  styleUrls: ['./informacion-orden.component.scss'],\r\n  animations: [routerTransition()]\r\n\r\n})\r\nexport class InformacionOrdenComponent implements OnInit {\r\n\r\n  id: any\r\n  orden: Observable<any>;\r\n  servicios:any;\r\n\r\n  personas: Observable<any[]>;\r\n\r\n  PersonaForm = this.fb.group({\r\n    persona: [{}, Validators.required]\r\n  })\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private ordenService: OrdenService,\r\n    private fb: FormBuilder,\r\n    private personaService: PersonaService\r\n  ) {\r\n    this.servicios = []\r\n    this.id = this.route.snapshot.paramMap.get('id');\r\n    this.orden = this.ordenService.obtenerUnaOrden(this.id);\r\n    this.orden.subscribe(res=>{\r\n      this.servicios = res.servicios\r\n      console.log(this.servicios)\r\n    })\r\n    this.personas = this.personaService.obtenerUsuarios();\r\n\r\n\r\n  }\r\n\r\n  seleccionarPersona(servicio, index){\r\n\r\n    console.log(this.servicios[index])\r\n\r\n    this.servicios[index].operador = servicio.operador\r\n    this.servicios[index].estado = 'EN ESPERA DE PRODUCCIÓN'\r\n   \r\n  this.ordenService.modificarServicio(this.id, {servicios: this.servicios, estado: 'EN ESPERA DE PRODUCCIÓN'})\r\n\r\n}\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AppRoutingModule } from './/app-routing.module';\r\nimport { CrearOrdenComponent } from './crear-orden/crear-orden.component';\r\nimport { ConsultarOrdenComponent } from './consultar-orden/consultar-orden.component';\r\nimport { InformacionOrdenComponent } from './informacion-orden/informacion-orden.component';\r\nimport { PageHeaderModule } from '../../shared';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap'\r\nimport { PersonaModule } from '../persona/persona.module';\r\nimport { VehiculoModule } from '../vehiculo/vehiculo.module';\r\nimport { ServicioModule } from '../servicio/servicio.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    AppRoutingModule,\r\n    PageHeaderModule,\r\n    NgSelectModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    NgbModule.forRoot(),\r\n    PersonaModule,\r\n    VehiculoModule,\r\n    ServicioModule\r\n  ],\r\n  declarations: [CrearOrdenComponent, ConsultarOrdenComponent, InformacionOrdenComponent]\r\n})\r\nexport class OrdenTrabajoModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore, AngularFirestoreDocument } from 'angularfire2/firestore';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OrdenService {\r\n\r\n  private empresa: AngularFirestoreDocument;\r\n  private orden: AngularFirestoreDocument;\r\n\r\n  constructor(private readonly afs: AngularFirestore) {\r\n    this.empresa = this.afs.doc(localStorage.getItem('empresa'));\r\n  }\r\n\r\n  crearOrden(orden, servicios: any) {\r\n    const id = this.afs.createId();\r\n    return this.empresa.collection('ordenes').doc(id).set(orden)\r\n \r\n \r\n  }\r\n\r\n  obtenerOrdenes() {\r\n    this.empresa = this.afs.doc(localStorage.getItem('empresa'));\r\n    return this.empresa.collection('ordenes').snapshotChanges().pipe(\r\n      map(actions => actions.map(a => {\r\n        const data = a.payload.doc.data() as any;\r\n        const id = a.payload.doc.id;\r\n        return { id, data };\r\n      }))\r\n    );\r\n  }\r\n\r\n  obtenerUnaOrden(id) {\r\n    return this.empresa.collection('ordenes').doc(id).valueChanges()\r\n  }\r\n\r\n  obtenerServicios(id) {\r\n    return this.empresa.collection('ordenes').doc(id).collection('ordenServicios').snapshotChanges().pipe(\r\n      map(actions => actions.map(a => {\r\n        const data = a.payload.doc.data() as any;\r\n        const id = a.payload.doc.id;\r\n        return { id, data };\r\n      }))\r\n    );\r\n  }\r\n\r\n  modificarServicio(orden, datos){\r\n    return this.empresa.collection('ordenes').doc(orden).update(datos);\r\n  }\r\n}\r\n"],"sourceRoot":""}